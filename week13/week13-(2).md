## Next.js에서 SSR을 실행하는 과정과 hydration에 대해 설명해 주세요

Next.js는 SSR을 지원한다. SSR은 웹 사이트 화면을 띄우기 위해 서버에서 HTML, JS 파일을 렌더링 하는 것 이다.<br/>
SSR은 브라우저가 서버에 요청을 할 때 서버측에서 렌더링이 일어난다. SSR은 CSR과 비교해서 초기 로딩 속도, 검색 엔진 최적화, 서버 부담의 측면에서 이득을 가진다.

이렇게 Next.js는 프리렌더링을 제공하는데, 이렇게 프리렌더링을 통해 단순히 웹 화면을 보여주기 위한 HTML파일을 만들어 초기 로딩 속도를 줄이기 위해<br/>
이 뼈대만 있는 HTML파일을 프리렌더링하여 사용자에게 보여준다. 하지만 이 HTML 파일에는 웹 화면 디자인을 보여주기 위한 뼈대만 들어있을 뿐,<br/>
동작에 필요한 JS요소는 존재하지 않는다. 따라서 JS 모듈 뿐만 아니라 단순 클릭과 같은 이벤트들도 각 웹 페이지의 DOM요소에 적용되어있지 않은 상태의 페이지가 전송되어 사용자에게 보여지는 것 이다.<br/>
따라서 useEffect처럼 마운트 된 후 실행되는 동작들 뿐만 아니라 onClick, onChange와 같은 바인딩도 제외되어 빈 껍데기만 존재하게 된다.<br/>

하지만 이 자체로도 사용자의 기기에서 JS가 모든 일을 처리하는 대신 서버에서 먼저 HTML 파일을 생성하기 때문에, <br/>
렌더링 작업이 진행되는 동안 사용자에게 해당 페이지에 필요한 HTML파일이 보여지기 때문에 이점을 가지게 된다.<br/>

Next.js 서버에서는 이렇게 Pre-Rendering 된 웹 페이지를 클라이언트에세 보낸 뒤에, 바로 React가 번들링된 JS 코드들을 Chunk 단위로 클라이언트에데 전송한다.
그리고 이러한 JS 코드들이 이전에 전송된 HTML DOM 요소 위로 리렌더링 되는 과정 속에서 자기 자리를 찾아서 매핑되게 되는데, 이 매핑되는 과정을 Hydration이라고 부른다!

즉 Hydration이란, Server-Side에서 렌더링 된 정적 페이지와 번들링 된 JS 파일을 클라이언트에게 보내면, Client-Side에서 HTML코드와 JS(React)코드를 서로 매칭시키는 과정이다.<br/>
Hydration이란 수분 공급이라는 뜻 인데, JS 코드들이 DOM 요소 위에 물을 채우듯 필요로 하던 요소들을 채운다고 해서 붙여진 이름이다.<br/>
(=수분기 없는 정적 웹 페이지에 물을 주는 느낌이라고 이해하면 쉽다.)<br/>
따라서 Hydration이 적용되면 클릭등의 이벤트나 모듈들이 적용되어 사용자 조작이 가능해지고, 사용자는 SSR을 통해 UI를 미리 보고, Hydration을 통해 페이지 조작이 가능하게 되는 것 이다.
